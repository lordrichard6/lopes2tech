<section class="meeting-section" id="meeting-form">
  <div class="meeting-intro">
    <h2>{{ title }}</h2>
    <p>{{ description }}</p>
  </div>

  <form
    *ngIf="!meetingSubmitted || meetingStatus !== 'success'"
    class="meeting-form"
    [formGroup]="meetingForm"
    (ngSubmit)="submitMeetingForm()"
    novalidate>

    <div class="form-grid">
      <label class="form-field">
        <span>{{ 'meetingForm.labels.name' | translate }} *</span>
        <input
          type="text"
          formControlName="name"
          [class.invalid]="fieldInvalid('name')"
          [placeholder]="'meetingForm.placeholders.name' | translate" />
        <small *ngIf="fieldInvalid('name')">{{ fieldError('name') }}</small>
      </label>

      <label class="form-field">
        <span>{{ 'meetingForm.labels.company' | translate }}</span>
        <input
          type="text"
          formControlName="company"
          [placeholder]="'meetingForm.placeholders.company' | translate" />
      </label>

      <label class="form-field">
        <span>{{ 'meetingForm.labels.email' | translate }} *</span>
        <input
          type="email"
          formControlName="email"
          [class.invalid]="fieldInvalid('email')"
          [placeholder]="'meetingForm.placeholders.email' | translate" />
        <small *ngIf="fieldInvalid('email')">{{ fieldError('email') }}</small>
      </label>

      <label class="form-field">
        <span>{{ 'meetingForm.labels.phone' | translate }}</span>
        <input
          type="tel"
          formControlName="phone"
          [placeholder]="'meetingForm.placeholders.phone' | translate" />
      </label>
    </div>

    <label class="form-field full-width">
      <span>{{ 'meetingForm.labels.message' | translate }} *</span>
      <textarea
        rows="5"
        formControlName="message"
        [class.invalid]="fieldInvalid('message')"
        [placeholder]="'meetingForm.placeholders.message' | translate"></textarea>
      <small *ngIf="fieldInvalid('message')">{{ fieldError('message') }}</small>
    </label>

    <input type="hidden" formControlName="context" />

    <div class="form-footer">
      <button
        type="submit"
        class="submit-button"
        [disabled]="meetingSubmitting">
        <span *ngIf="!meetingSubmitting">{{ 'meetingForm.button.submit' | translate }}</span>
        <span *ngIf="meetingSubmitting" class="loading-dots">
          {{ 'meetingForm.button.sending' | translate }}<span>.</span><span>.</span><span>.</span>
        </span>
      </button>

      <div class="submission-status" *ngIf="meetingSubmitted && meetingStatus === 'error'">
        <span class="status-error">
          {{ meetingErrorMessage }}
        </span>
      </div>
    </div>
  </form>

  <div
    class="meeting-success"
    *ngIf="meetingSubmitted && meetingStatus === 'success'">
    <img src="/logo_ani.gif" alt="lopes2tech animated logo" class="success-logo" />
    <h3>{{ successTitle }}</h3>
    <p>{{ successDescription }}</p>
  </div>
</section>
