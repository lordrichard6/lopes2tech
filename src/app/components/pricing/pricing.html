<div class="pricing-container">
  <div class="pricing-hero">
    <div class="hero-content">
      <h1>{{ 'pricing.hero.title' | translate }}</h1>
      <p class="hero-subtitle">{{ 'pricing.hero.subtitle' | translate }}</p>
    </div>
  </div>

  <div class="pricing-content">
    <div class="container">
      <!-- Dynamic Service Sections -->
      <div class="service-section" *ngFor="let service of services">
        <div class="service-header">
          <div class="service-icon">
            <i [class]="service.icon"></i>
          </div>
          <h2>{{ service.name | translate }}</h2>
          <p class="service-description">{{ service.description | translate }}</p>
        </div>

        <!-- Dynamic Sub Services -->
        <div class="sub-service" *ngFor="let subService of service.subServices">
          <div class="sub-service-header">
            <h3>{{ subService.name | translate }}</h3>
            <button 
              class="toggle-button" 
              (click)="toggleTable(subService.name)"
              [class.active]="isTableVisible(subService.name)">
              <i class="fas" [class.fa-chevron-down]="!isTableVisible(subService.name)" [class.fa-chevron-up]="isTableVisible(subService.name)"></i>
              {{ isTableVisible(subService.name) ? ('pricing.pricing.hidePricing' | translate) : ('pricing.pricing.showPricing' | translate) }}
            </button>
          </div>
          
          <div 
            class="pricing-table-container" 
            *ngIf="isTableVisible(subService.name)"
            [class.opening]="isTableOpening(subService.name)"
            [class.closing]="isTableClosing(subService.name)">
            
            <!-- Service Description -->
            <div class="sub-service-description">
              <p>{{ subService.description | translate }}</p>
            </div>
            
            <table class="pricing-table">
              <thead>
                <tr>
                  <th>{{ 'pricing.pricing.tierLabel' | translate }}</th>
                  <th>{{ 'pricing.pricing.switzerlandLabel' | translate }}</th>
                  <th>{{ 'pricing.pricing.portugalLabel' | translate }}</th>
                </tr>
              </thead>
              <tbody>
                <!-- Dynamic Pricing Tiers -->
                <tr 
                  *ngFor="let tier of subService.tiers" 
                  class="tier-row"
                  [class.budget]="(tier.name | translate) === ('pricing.tiers.budget' | translate)"
                  [class.mid-range]="(tier.name | translate) === ('pricing.tiers.mid-range' | translate)"
                  [class.premium]="(tier.name | translate) === ('pricing.tiers.premium' | translate)"
                  [class.featured]="tier.isPopular"
                >
                  <td class="tier-name">
                    <strong>{{ tier.name | translate }}</strong>
                    <span *ngIf="tier.isPopular" class="popular-badge">{{ 'pricing.tiers.popularBadge' | translate }}</span>
                  </td>
                  <td class="pricing-details">
                    <div class="price-item">
                      <span class="price-type">{{ 'pricing.pricing.hourly' | translate }}</span>
                      <span class="price-value">{{ tier.chfHourly }}</span>
                    </div>
                    <div class="price-item">
                      <span class="price-type">{{ 'pricing.pricing.project' | translate }}</span>
                      <span class="price-value">{{ tier.chfProject }}</span>
                    </div>
                    <div class="price-item">
                      <span class="price-type">{{ 'pricing.pricing.retainer' | translate }}</span>
                      <span class="price-value">{{ tier.chfRetainer }}</span>
                    </div>
                  </td>
                  <td class="pricing-details">
                    <div class="price-item">
                      <span class="price-type">{{ 'pricing.pricing.hourly' | translate }}</span>
                      <span class="price-value">{{ tier.eurHourly }}</span>
                    </div>
                    <div class="price-item">
                      <span class="price-type">{{ 'pricing.pricing.project' | translate }}</span>
                      <span class="price-value">{{ tier.eurProject }}</span>
                    </div>
                    <div class="price-item">
                      <span class="price-type">{{ 'pricing.pricing.retainer' | translate }}</span>
                      <span class="price-value">{{ tier.eurRetainer }}</span>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>