<section id="portfolio" class="portfolio">
    <div class="hero-background">
        <div class="floating-elements">
            <div class="floating-circle circle-1"></div>
            <div class="floating-circle circle-2"></div>
        </div>
    </div>

    <div class="container">
        <div class="section-header reveal-on-scroll" #revealItem>
            <div class="section-badge">
                <i class="fas fa-bolt"></i>
                <span>{{ 'portfolio.badge' | translate }}</span>
            </div>
            <h2 class="section-title">{{ 'portfolio.title' | translate }}</h2>
            <p class="section-subtitle">{{ 'portfolio.subtitle' | translate }}</p>
            <p class="section-seo-text">{{ 'portfolio.seo_text' | translate }}</p>
        </div>

        <!-- Filter Controls -->
        <div class="filter-container reveal-on-scroll" #revealItem>
            <div class="filter-pill">
                <button class="filter-btn" [class.active]="activeFilter === 'web-app'" (click)="setFilter('web-app')">
                    <i class="fas fa-layer-group"></i>
                    <span>Web Apps</span>
                </button>
                <button class="filter-btn" [class.active]="activeFilter === 'website'" (click)="setFilter('website')">
                    <i class="fas fa-desktop"></i>
                    <span>Websites</span>
                </button>
                <div class="pill-bg" [class.right]="activeFilter === 'website'"></div>
            </div>
        </div>

        <!-- Projects Grid -->
        <div class="projects-grid">
            <div class="project-card reveal-on-scroll" *ngFor="let project of paginatedProjects; let i = index"
                #revealItem (click)="openProjectDialog(project)">
                <div class="card-image">
                    <img [src]="project.image" [alt]="project.titleKey | translate" loading="lazy">
                    <div class="overlay">
                        <span class="view-btn">View Project <i class="fas fa-arrow-right"></i></span>
                    </div>
                    <div class="dev-badge" *ngIf="project.isInDevelopment">
                        <i class="fas fa-code"></i>
                        In Development
                    </div>
                </div>
                <div class="card-content">
                    <div class="card-header">
                        <span class="project-category">{{ project.category }}</span>
                    </div>
                    <h3 class="project-title">{{ project.titleKey | translate }}</h3>
                    <p class="project-desc">{{ project.descKey | translate }}</p>
                </div>
            </div>
        </div>

        <!-- Pagination Controls -->
        <div class="pagination-container reveal-on-scroll" #revealItem *ngIf="totalPages > 1">
            <button class="pagination-btn" [disabled]="currentPage === 1" (click)="prevPage()"
                aria-label="Previous page">
                <i class="fas fa-chevron-left"></i>
            </button>

            <div class="pagination-numbers">
                <button *ngFor="let page of pages" class="page-btn" [class.active]="page === currentPage"
                    (click)="goToPage(page)" [attr.aria-label]="'Page ' + page"
                    [attr.aria-current]="page === currentPage ? 'page' : null">
                    {{ page }}
                </button>
            </div>

            <button class="pagination-btn" [disabled]="currentPage === totalPages" (click)="nextPage()"
                aria-label="Next page">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>
    <app-project-dialog [isOpen]="isDialogOpen" [project]="currentProject"
        (close)="closeProjectDialog()"></app-project-dialog>
</section>